<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>COVID-19</title>
</head>
<body>
  <link rel="stylesheet" href="{{url_for('static',filename='css/main.css')}}">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
<div class="page-header">
  <h1>Covid-19 Case Prediction</h1>
</div>




<div class="flex-container">
  <div class="flex-child">
    <h3 style="color: dodgerblue;">Confirmed</h3>
    <b>
      <h3 style="color: dodgerblue;">{{kl_data[0]}}
      </h3>
    </b>
  </div>

  <div  class="flex-child">
    <h3 style="color: red;">Deceased</h3>
    <b>
      <h3 style="color: red;">{{kl_data[1]}}</h3>
    </b>
  </div>

  <div class="flex-child">
    <h3 style="color: lawngreen;">Recovered</h3>
   <b>
     <h3 style="color: lawngreen;">{{kl_data[2]}}</h3>
    </b>
  </div>

  <!-- <div class="flex-child" >
    <h3 style="color:orange;">Tested</h3>
    <b>
          <h3 style="color:orange;">{{kl_data[3]}} </h3>
    </b>
</div>


  <div class="flex-child" >
    <h3 style="color:rgb(255, 136, 0);">Active</h3>
    <b>
          <h3 style="color:rgb(229, 255, 0);">{{kl_data[4]}} </h3>
    </b>
</div>

  <div class="flex-child" >
    <h3 style="color:rgb(0, 225, 255);">Total Observation</h3>
    <b>
          <h3 style="color:rgb(0, 225, 255);">{{kl_data[5]}} </h3> -->
    <!-- </b>
</div> -->

</div>




<div class = "flex-container">
  <!-- 
    <div class="flex-child">
      <h3 style="color:orange;">Tested</h3>
      <b>
        <h3 style="color:orange;">{{kl_data[3]}} </h3>
      </b>
    </div>
     -->
    
    <div class="flex-child">
      <h3 style="color:rgb(255, 136, 0);">Active</h3>
      <b>
        <h3 style="color:rgb(229, 255, 0);">{{kl_data[3]}} </h3>
      </b>
    </div>
    
    <div class="flex-child">
      <h3 style="color:rgb(0, 225, 255);">Total Observation</h3>
      <b>
        <h3 style="color:rgb(0, 225, 255);">{{kl_data[4]}} </h3>
    </b>
    </div>
    
</div>









































<div class="page-header">
  <h2 style="margin-top: 20px;">Daily Cases</h2>
</div>

                           <!--Statewise daily-->
<div class=" col-lg-12 col-md-12 col-sm-12">
  

  <div class="chart-container" style="position: relative; height:80vh; width:80vw">
    <canvas id="Daily-cases"></canvas> 
  </div>
  
    

  
  <button type="button" class="collapsible btn btn-primary btn-lg btn-block">View Table</button>
  <div class="content">

  <!-- Parsing through the csv -->
  <table class='table table-dark'>
    <tr>
      <th>Date</th>
      <th>Daily Cases</th>
    </tr>
    {% for i in range(7)%}
      <tr>
        <td>{{labels[i]}}</td>
        <td>{{values[i]}}</td>
      </tr>
    {% endfor %}
  </table>
  </div>
  


                            <!--Cumilative Cases-->
  <div class="page-header">
    <h2>Cumilative Cases</h2>
  </div>

  <div class="chart-container" style="position: relative; height:80vh; width:80vw">                 
    <canvas id='Cumilative-cases' ></canvas>
  </div>

  <!-- <table class='table table-dark'>
    <tr>
      <th>Date</th>
      <th>Daily Cases</th>
    </tr>
    {% for i in range(423)%}
      <tr>
        <td>{{labels2[i]}}</td>
        <td>{{values2[i]}}</td>
      </tr>
    {% endfor %}
  </table> -->

                      <!-- DISTRICT WISE -->
    <div class=" col-lg-12 col-md-12 col-sm-12 ">
      <a href="/districtwisecases" role="button">
        <button type='button' class="btn btn-primary btn-lg btn-block"
          style="margin-top: 20px;margin-bottom: 40px;">District Wise Cases</button>
      </a>
    </div>
  



  <div class="chart-container" style=" height:80vh; width:80vw">   
    <canvas id="sChart"></canvas>
  </div>
  <hr class="solid">

  <div class="chart-container" style=" height:80vh; width:80vw">   
    <canvas id="Daily Testing"></canvas>
  </div>

  <div class="chart-container" style="position: relative; height:80vh; width:80vw">   
    <canvas id="Cumulative Testing"></canvas>
  </div>

</div>













                            <!-- JAVASCRIPT!!!! -->
<script>


//summary charts

var sCanvas = document.getElementById("sChart");

Chart.defaults.global.defaultFontFamily = "Lato";
Chart.defaults.global.defaultFontSize = 18;

var data1= {
    label: "Confirmed",
    data: {{valuesc|tojson }},
    lineTension: 0,
    fill: false,
    borderColor: 'orange'
  };

var data2 = {
    label: "Recovered",
    data: {{valuesr|tojson }},
    lineTension: 0,
    fill: false,
    borderColor: 'blue'
  };

var data3= {
    label: "Deceased",
    data: {{valuesde|tojson }},
    lineTension: 0,
    fill: false,
  borderColor: 'red'
  };

  


var sData = {
  labels:{{labelsr|tojson }},
  datasets:[data1, data2, data3]
};

var chartOptions1 = {
          legend: {
            display: true,
            position: 'chartArea'
          },
          tooltips: {
            mode: 'index',
            intersect: false
          },
           hover: {
            mode: 'index',
            intersect: false
            },
            elements: {
                point:{
                    radius: 0
                    }
                },
            layout: {
            padding: 50
            },
          scales: {
             y: {
                beginAtZero: true
              }
          },
         maintainAspectRatio: false,
         responsive:true
            
        };

var lineChart = new Chart(sCanvas, {
  type: 'line',
  data: sData,
  options: chartOptions1
});



    function draw(id,label,value)
{
  var ctx = document.getElementById(id).getContext('2d');


var myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels:  label,
        datasets: [{
            label: id,
            barThickness:10, 
            data:value,
           borderColor:['rgba(29,204,44)']
           
        }]
    },
    options: {
      layout: {
            padding: 50
            },
        scales: {
            y: {
                beginAtZero: true
            }
        },
        maintainAspectRatio: false,
        responsive:true
        

      
    }
});

    }

draw("Daily-cases",{{labels|tojson}},{{values|tojson}})
draw("Cumilative-cases",{{labels2|tojson}},{{values2|tojson}})





//collapsible code 
var coll = document.getElementsByClassName("collapsible");
var i;

for (i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.display === "block") {
      content.style.display = "none";
    } else {
      content.style.display = "block";
    }
  });
}


draw("Daily Testing",{{labelst1|tojson}},{{valuest1|tojson}})
draw("Cumulative Testing",{{labelstc|tojson}},{{valuestc|tojson}})

</script>



</body>
</html>

